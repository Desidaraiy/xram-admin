{"version":3,"file":"CardBoxModal-BXsowXkc.js","sources":["../../../../components/CardBoxScrollable.vue","../../../../components/CardBoxModal.vue"],"sourcesContent":["<script setup>\r\nimport { mdiCog } from '@mdi/js'\r\nimport { computed, useSlots } from 'vue'\r\nimport BaseIcon from '@/components/BaseIcon.vue'\r\n\r\nconst props = defineProps({\r\n  title: {\r\n    type: String,\r\n    default: null\r\n  },\r\n  icon: {\r\n    type: String,\r\n    default: null\r\n  },\r\n  headerIcon: {\r\n    type: String,\r\n    default: null\r\n  },\r\n  rounded: {\r\n    type: String,\r\n    default: 'rounded-xl'\r\n  },\r\n  flex: {\r\n    type: String,\r\n    default: 'flex-col'\r\n  },\r\n  hasTable: Boolean,\r\n  empty: Boolean,\r\n  form: Boolean,\r\n  hoverable: Boolean,\r\n  modal: Boolean\r\n})\r\n\r\nconst emit = defineEmits(['header-icon-click', 'submit'])\r\n\r\nconst is = computed(() => props.form ? 'form' : 'div')\r\n\r\nconst slots = useSlots()\r\n\r\nconst footer = computed(() => slots.footer && !!slots.footer())\r\n\r\nconst componentClass = computed(() => {\r\n  const base = [\r\n    props.rounded,\r\n    props.flex,\r\n    props.modal ? 'dark:bg-slate-900' : 'dark:bg-slate-900/70'\r\n  ]\r\n\r\n  if (props.hoverable) {\r\n    base.push('hover:shadow-lg transition-shadow duration-500')\r\n  }\r\n\r\n  return base\r\n})\r\n\r\nconst computedHeaderIcon = computed(() => props.headerIcon ?? mdiCog)\r\n\r\nconst headerIconClick = () => {\r\n  emit('header-icon-click')\r\n}\r\n\r\nconst submit = e => {\r\n  emit('submit', e)\r\n}\r\n</script>\r\n\r\n<template>\r\n  <component\r\n    :is=\"is\"\r\n    :class=\"componentClass\"\r\n    class=\"bg-white flex flex-col\"\r\n    @submit=\"submit\"\r\n  >\r\n    <header\r\n      v-if=\"title\"\r\n      class=\"flex items-stretch border-b border-gray-100 dark:border-slate-800\"\r\n    >\r\n      <div\r\n        class=\"flex items-center py-3 grow font-bold\"\r\n        :class=\"[ icon ? 'px-4' : 'px-6' ]\"\r\n      >\r\n        <BaseIcon\r\n          v-if=\"icon\"\r\n          :path=\"icon\"\r\n          class=\"mr-3\"\r\n        />\r\n        {{ title }}\r\n      </div>\r\n      <button\r\n        class=\"flex items-center py-3 px-4 justify-center ring-blue-700 focus:ring\"\r\n        @click=\"headerIconClick\"\r\n      >\r\n        <BaseIcon :path=\"computedHeaderIcon\" />\r\n      </button>\r\n    </header>\r\n\r\n    <div\r\n      v-if=\"empty\"\r\n      class=\"text-center py-24 text-gray-500 dark:text-slate-400\"\r\n    >\r\n      <p>Nothing's here…</p>\r\n    </div>\r\n\r\n    <div\r\n      v-else\r\n      class=\"flex-1 overflow-y-auto\"\r\n      :class=\"{'p-6':!hasTable}\"\r\n    >\r\n      <slot />\r\n    </div>\r\n\r\n    <div\r\n      v-if=\"footer\"\r\n      class=\"p-6 border-t border-gray-100 dark:border-slate-800 \"\r\n    >\r\n      <slot name=\"footer\" />\r\n    </div>\r\n  </component>\r\n</template>\r\n","<script setup>\nimport { computed } from 'vue'\nimport { mdiClose } from '@mdi/js'\nimport BaseButton from '@/components/BaseButton.vue'\nimport BaseButtons from '@/components/BaseButtons.vue'\nimport CardBox from '@/components/CardBox.vue'\nimport OverlayLayer from '@/components/OverlayLayer.vue'\n\nconst props = defineProps({\n  title: {\n    type: String,\n    default: null\n  },\n  largeTitle: {\n    type: String,\n    default: null\n  },\n  button: {\n    type: String,\n    default: 'info'\n  },\n  buttonLabel: {\n    type: String,\n    default: 'Готово'\n  },\n  hasCancel: Boolean,\n  hasTable: {\n    type: Boolean,\n    default: false\n  },\n  modelValue: {\n    type: [String, Number, Boolean],\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'cancel', 'confirm'])\n\nconst value = computed({\n  get: () => props.modelValue,\n  set: value => emit('update:modelValue', value)\n})\n\nconst confirmCancel = mode => {\n  value.value = false\n  emit(mode)\n}\n\nconst confirm = () => confirmCancel('confirm')\n\nconst cancel = () => confirmCancel('cancel')\n</script>\n\n<template>\n  <OverlayLayer\n    v-show=\"value\"\n    @overlay-click=\"cancel\"\n  >\n    <CardBoxScrollable\n      v-show=\"value\"\n      :title=\"title\"\n      class=\"shadow-lg max-h-modal w-11/12 md:w-3/5 lg:w-2/5 xl:w-4/12 z-50\"\n      :header-icon=\"mdiClose\"\n      modal\n      @header-icon-click=\"cancel\"\n    >\n      <div class=\"space-y-3 flex flex-col\">\n        <h1\n          v-if=\"largeTitle\"\n          class=\"text-2xl flex-1\"\n        >\n          {{ largeTitle }}\n        </h1>\n        <div class=\"flex-1\" :class=\"{'p-6':!hasTable}\">\n          <slot />\n        </div>\n      </div>\n\n      <template #footer>\n        <div class=\"\">\n          <BaseButtons>\n            <BaseButton\n              :label=\"buttonLabel\"\n              :color=\"button\"\n              @click=\"confirm\"\n            />\n            <BaseButton\n              v-if=\"hasCancel\"\n              label=\"Отмена\"\n              :color=\"button\"\n              outline\n              @click=\"cancel\"\n            />\n          </BaseButtons>\n        </div>\n      </template>\n    </CardBoxScrollable>\n  </OverlayLayer>\n</template>\n"],"names":["value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAM,QAAQ;AA4Bd,UAAM,OAAO;AAEb,UAAM,KAAK,SAAS,MAAM,MAAM,OAAO,SAAS,KAAK;AAErD,UAAM,QAAQ,SAAU;AAExB,UAAM,SAAS,SAAS,MAAM,MAAM,UAAU,CAAC,CAAC,MAAM,QAAQ;AAE9D,UAAM,iBAAiB,SAAS,MAAM;AACpC,YAAM,OAAO;AAAA,QACX,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM,QAAQ,sBAAsB;AAAA,MACrC;AAED,UAAI,MAAM,WAAW;AACnB,aAAK,KAAK,gDAAgD;AAAA,MAC3D;AAED,aAAO;AAAA,IACT,CAAC;AAED,UAAM,qBAAqB,SAAS,MAAM,MAAM,cAAc,MAAM;AAEpE,UAAM,kBAAkB,MAAM;AAC5B,WAAK,mBAAmB;AAAA,IAC1B;AAEA,UAAM,SAAS,OAAK;AAClB,WAAK,UAAU,CAAC;AAAA,IAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA,UAAM,QAAQ;AA4Bd,UAAM,OAAO;AAEb,UAAM,QAAQ,SAAS;AAAA,MACrB,KAAK,MAAM,MAAM;AAAA,MACjB,KAAK,CAAAA,WAAS,KAAK,qBAAqBA,MAAK;AAAA,IAC/C,CAAC;AAED,UAAM,gBAAgB,UAAQ;AAC5B,YAAM,QAAQ;AACd,WAAK,IAAI;AAAA,IACX;AAEA,UAAM,UAAU,MAAM,cAAc,SAAS;AAE7C,UAAM,SAAS,MAAM,cAAc,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}