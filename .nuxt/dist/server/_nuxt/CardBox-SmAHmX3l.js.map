{"version":3,"file":"CardBox-SmAHmX3l.js","sources":["../../../../components/BaseButton.vue","../../../../components/CardBox.vue"],"sourcesContent":["<script setup>\nimport { computed } from 'vue'\nimport { RouterLink } from 'vue-router'\n// import { NuxtLink } from '~~/.nuxt/components'\nimport { getButtonColor } from '@/configs/colors.js'\nimport BaseIcon from '@/components/BaseIcon.vue'\n\nconst props = defineProps({\n  label: {\n    type: [String, Number],\n    default: null\n  },\n  icon: {\n    type: String,\n    default: null\n  },\n  href: {\n    type: String,\n    default: null\n  },\n  target: {\n    type: String,\n    default: null\n  },\n  to: {\n    type: [String, Object],\n    default: null\n  },\n  type: {\n    type: String,\n    default: null\n  },\n  color: {\n    type: String,\n    default: 'white'\n  },\n  as: {\n    type: String,\n    default: null\n  },\n  small: Boolean,\n  outline: Boolean,\n  active: Boolean,\n  disabled: Boolean,\n  roundedFull: Boolean\n})\n\nconst is = computed(() => {\n  if (props.as) {\n    return props.as\n  }\n\n  if (props.to) {\n    return RouterLink\n  }\n\n  if (props.href) {\n    return 'a'\n  }\n\n  return 'button'\n})\n\nconst computedType = computed(() => {\n  if (is.value === 'button') {\n    return props.type ?? 'button'\n  }\n\n  return null\n})\n\nconst labelClass = computed(() => props.small && props.icon ? 'px-1' : 'px-2')\n\nconst componentClass = computed(() => {\n  const base = [\n    'inline-flex',\n    'cursor-pointer',\n    'justify-center',\n    'items-center',\n    'whitespace-nowrap',\n    'focus:outline-none',\n    'transition-colors',\n    'focus:ring',\n    'duration-150',\n    'border',\n    props.roundedFull ? 'rounded-full' : 'rounded',\n    props.active ? 'ring ring-black dark:ring-white' : 'ring-blue-700',\n    getButtonColor(props.color, props.outline, !props.disabled)\n  ]\n\n  if (props.small) {\n    base.push(\n      'text-sm',\n      props.roundedFull ? 'px-3 py-1' : 'p-1'\n    )\n  } else {\n    base.push(\n      'py-2',\n      props.roundedFull ? 'px-6' : 'px-3'\n    )\n  }\n\n\n  if (props.disabled) {\n    base.push('cursor-not-allowed', props.outline ? 'opacity-50' : 'opacity-70')\n  }\n\n  return base\n})\n</script>\n\n<template>\n  <NuxtLink \n    v-if=\"is === RouterLink\"\n    :class=\"componentClass\"\n    :type=\"computedType\"\n    :to=\"to\"\n    :target=\"target\"\n    :disabled=\"disabled\"\n    >\n    <BaseIcon\n      v-if=\"icon\"\n      :path=\"icon\"\n    />\n    <span\n      v-if=\"label\"\n      :class=\"labelClass\"\n    >{{ label }}</span>\n  </NuxtLink>\n  <component v-else\n    :is=\"is\"\n    :class=\"componentClass\"\n    :href=\"href\"\n    :type=\"computedType\"\n    :to=\"to\"\n    :target=\"target\"\n    :disabled=\"disabled\"\n  >\n    <BaseIcon\n      v-if=\"icon\"\n      :path=\"icon\"\n    />\n    <span\n      v-if=\"label\"\n      :class=\"labelClass\"\n    >{{ label }}</span>\n  </component>\n</template>\n","<script setup>\nimport { mdiCog } from '@mdi/js'\nimport { computed, useSlots, reactive, watch } from 'vue'\nimport BaseIcon from '@/components/BaseIcon.vue'\nimport { useMainStore } from '@/stores/main'\nconst props = defineProps({\n  title: {\n    type: String,\n    default: null\n  },\n  icon: {\n    type: String,\n    default: null\n  },\n  headerIcon: {\n    type: String,\n    default: null\n  },\n  rounded: {\n    type: String,\n    default: 'rounded-xl'\n  },\n  flex: {\n    type: String,\n    default: 'flex-col'\n  },\n  hasTable: Boolean,\n  hasSearchbar: Boolean,\n  empty: Boolean,\n  form: Boolean,\n  hoverable: Boolean,\n  modal: Boolean\n})\n\nconst emit = defineEmits(['header-icon-click', 'submit', 'search-toggle', 'search-string'])\n\nconst is = computed(() => props.form ? 'form' : 'div')\n\nconst slots = useSlots()\n\nconst footer = computed(() => slots.footer && !!slots.footer())\n\nconst componentClass = computed(() => {\n  const base = [\n    props.rounded,\n    props.flex,\n    props.modal ? 'dark:bg-slate-900' : 'dark:bg-slate-900/70'\n  ]\n  if (props.hoverable) {\n    base.push('hover:shadow-lg transition-shadow duration-500')\n  }\n  return base\n})\n\nconst controller = reactive({\n  query: '',\n  searching: false\n})\nconst handleSearchString = (value) => {\n  emit('search-string', value);\n};\n\nwatch(() => controller.query, (newValue) => {\n  handleSearchString(newValue);\n});\n\nconst computedHeaderIcon = computed(() => props.headerIcon ?? mdiCog)\n\nconst headerIconClick = () => {\n  emit('header-icon-click')\n}\n\nconst submit = e => {\n  emit('submit', e)\n}\n</script>\n\n<template>\n  <component\n    :is=\"is\"\n    :class=\"componentClass\"\n    class=\"bg-white flex\"\n    @submit=\"submit\"\n  >\n    <header\n      v-if=\"title\"\n      class=\"flex items-stretch border-b border-gray-100 dark:border-slate-800\"\n    >\n      <div\n        class=\"flex items-center py-3 grow font-bold\"\n        :class=\"[ icon ? 'px-4' : 'px-6' ]\"\n      >\n        <BaseIcon\n          v-if=\"icon\"\n          :path=\"icon\"\n          class=\"mr-3\"\n        />\n        {{ title }}\n      </div>\n      <div class=\"searchbar_wrapper py-2 px-2 \" v-if=\"hasSearchbar\">\n        <input \n          type=\"text\" \n          class=\"py-2 px-2 rounded-md text-sm text-black-700 dark:text-slate-700\" \n          placeholder=\"Поиск...\"\n          v-model=\"controller.query\"\n          />\n      </div>\n      <!-- <button\n        class=\"flex items-center py-3 px-4 justify-center ring-blue-700 focus:ring\"\n        @click=\"headerIconClick\"\n      >\n        <BaseIcon :path=\"computedHeaderIcon\" />\n      </button> -->\n    </header>\n    <div\n      v-if=\"empty\"\n      class=\"text-center py-24 text-gray-500 dark:text-slate-400\"\n    >\n      <p>Nothing's here…</p>\n    </div>\n    <div\n      v-else\n      class=\"flex-1\"\n      :class=\"{'p-6':!hasTable}\"\n    >\n      <slot />\n    </div>\n    <div\n      v-if=\"footer\"\n      class=\"p-6 border-t border-gray-100 dark:border-slate-800\"\n    >\n      <slot name=\"footer\" />\n    </div>\n  </component>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,UAAM,QAAQ;AAwCd,UAAM,KAAK,SAAS,MAAM;AACxB,UAAI,MAAM,IAAI;AACZ,eAAO,MAAM;AAAA,MACd;AAED,UAAI,MAAM,IAAI;AACZ,eAAO;AAAA,MACR;AAED,UAAI,MAAM,MAAM;AACd,eAAO;AAAA,MACR;AAED,aAAO;AAAA,IACT,CAAC;AAED,UAAM,eAAe,SAAS,MAAM;AAClC,UAAI,GAAG,UAAU,UAAU;AACzB,eAAO,MAAM,QAAQ;AAAA,MACtB;AAED,aAAO;AAAA,IACT,CAAC;AAED,UAAM,aAAa,SAAS,MAAM,MAAM,SAAS,MAAM,OAAO,SAAS,MAAM;AAE7E,UAAM,iBAAiB,SAAS,MAAM;AACpC,YAAM,OAAO;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,MAAM,cAAc,iBAAiB;AAAA,QACrC,MAAM,SAAS,oCAAoC;AAAA,QACnD,eAAe,MAAM,OAAO,MAAM,SAAS,CAAC,MAAM,QAAQ;AAAA,MAC3D;AAED,UAAI,MAAM,OAAO;AACf,aAAK;AAAA,UACH;AAAA,UACA,MAAM,cAAc,cAAc;AAAA,QACnC;AAAA,MACL,OAAS;AACL,aAAK;AAAA,UACH;AAAA,UACA,MAAM,cAAc,SAAS;AAAA,QAC9B;AAAA,MACF;AAGD,UAAI,MAAM,UAAU;AAClB,aAAK,KAAK,sBAAsB,MAAM,UAAU,eAAe,YAAY;AAAA,MAC5E;AAED,aAAO;AAAA,IACT,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvGD,UAAM,QAAQ;AA6Bd,UAAM,OAAO;AAEb,UAAM,KAAK,SAAS,MAAM,MAAM,OAAO,SAAS,KAAK;AAErD,UAAM,QAAQ,SAAU;AAExB,UAAM,SAAS,SAAS,MAAM,MAAM,UAAU,CAAC,CAAC,MAAM,QAAQ;AAE9D,UAAM,iBAAiB,SAAS,MAAM;AACpC,YAAM,OAAO;AAAA,QACX,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM,QAAQ,sBAAsB;AAAA,MACrC;AACD,UAAI,MAAM,WAAW;AACnB,aAAK,KAAK,gDAAgD;AAAA,MAC3D;AACD,aAAO;AAAA,IACT,CAAC;AAED,UAAM,aAAa,SAAS;AAAA,MAC1B,OAAO;AAAA,MACP,WAAW;AAAA,IACb,CAAC;AACD,UAAM,qBAAqB,CAAC,UAAU;AACpC,WAAK,iBAAiB,KAAK;AAAA,IAC7B;AAEA,UAAM,MAAM,WAAW,OAAO,CAAC,aAAa;AAC1C,yBAAmB,QAAQ;AAAA,IAC7B,CAAC;AAE0B,aAAS,MAAM,MAAM,cAAc,MAAM;AAMpE,UAAM,SAAS,OAAK;AAClB,WAAK,UAAU,CAAC;AAAA,IAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}