import{_ as B}from"./DYukAyPS.js";import{f as M,j as h,i as D,G as m,z as g,ae as N,o as a,c as n,a as r,F as x,A as k,t as G,b as V,k as $,Q as z,l as A,B as y}from"./DSqohS_p.js";const F={class:"flex flex-row justify-between items-center max-w-full border-gray-700 border rounded w-full bg-white dark:bg-slate-800"},I={class:"p-3 bg-gray-100/50 dark:bg-slate-800 flex flex-row justify-between items-center overflow-x-auto"},L={class:"flex flex-row justify-start items-center"},E={class:"text-sm"},H={class:"flex flex-col items-center justify-center p-1 text-slate-800 dark:text-slate-200"},O={class:"flex flex-col items-center py-2 px-2"},Q=["onClick"],U=r("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),q=[U],J={key:0,class:"bg-white dark:bg-slate-200 text-slate-800 dark:text-slate-800 border w-full rounded"},K={key:0,class:"my-2 px-5"},P=["onClick"],W={__name:"GroupsIdSelector",props:{preSelectedGroups:{type:Array,default:[]}},setup(w,{emit:b}){const o=M(),v=b,c=h(!1),t=h([]),p={id:0,name:"Все пользователи"},u=w;D(async()=>{if(await o.getGroupsList(),u.preSelectedGroups.length>0)for(let e=0;e<u.preSelectedGroups.length;e++){let s=o.filteredGroups.find(d=>d.id==u.preSelectedGroups[e]);f(s)}});const f=e=>{t.value.push(e),c.value=!1,v("update:modelValue",t.value.map(s=>s.id))};m(t,()=>{t.value.length===0?i.value=[p,...o.filteredGroups]:i.value=o.filteredGroups}),m(()=>u.preSelectedGroups,e=>{if(t.value=[],e.length>0)for(let s=0;s<e.length;s++){let d=o.filteredGroups.find(l=>l.id==e[s]);f(d)}});const _=g({get:()=>t.value.length===0?o.filteredGroups:o.filteredGroups.filter(e=>!t.value.some(s=>s.id===e.id)),set:e=>{console.log(e)}}),i=g({get:()=>t.value.length===0?[p]:t.value,set:e=>{console.log(e)}});m(t,()=>{t.value.length===0?i.value=[p,...o.filteredGroups]:i.value=o.filteredGroups});const C=e=>{t.value=t.value.filter(s=>s.id!==e.id),v("update:modelValue",t.value.map(s=>s.id))},S=()=>{c.value=!0};return N(()=>{t.value=[]}),(e,s)=>{const d=B;return a(),n("div",null,[r("div",F,[r("div",I,[r("div",L,[(a(!0),n(x,null,k(i.value,l=>(a(),n("div",{key:l.id,class:"flex flex-row justify-start items-center bg-gray-200 dark:bg-slate-700 px-2 py-1 rounded-md mr-2"},[r("span",E,G(l.name),1),r("div",H,[V(d,{path:$(z),size:"14",onClick:j=>C(l)},null,8,["path","onClick"])])]))),128))])]),r("div",O,[r("button",{onClick:A(S,["prevent"])},q,8,Q)])]),c.value?(a(),n("div",J,[_.value.length===0?(a(),n("div",K," Все группы добавлены ")):y("",!0),(a(!0),n(x,null,k(_.value,l=>(a(),n("div",{key:l.id,onClick:j=>f(l),class:"my-2 px-5"},G(l.name),9,P))),128))])):y("",!0)])}}};export{W as _};
