import{o as n,C as F,z as i,f as B,j as g,i as x,af as V,c as u,n as p,ag as E,J as c,F as $,A as q,t as h,a5 as C,ac as R,ah as M,B as k,O as D,a as K,P as L}from"./DSqohS_p.js";import{_ as U}from"./DYukAyPS.js";const z={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(m,a)=>(n(),F(U,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},A={class:"relative"},N=["id","name"],j=["value"],H=["id","name","placeholder","required"],I=["id","name","inputmode","autocomplete","required","placeholder","type","v-maska","data-maska"],G={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},intonly:{type:Boolean,default:!1},masked:{type:Boolean,default:!1},mask:{type:String,default:null},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(e,{emit:m}){const a=e,o=m,s=i({get:()=>a.modelValue,set:r=>{o("update:modelValue",r)}}),y=i(()=>{const r=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",d.value==="textarea"?"h-24":"h-12",a.borderless?"border-0":"border",a.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return a.icon&&r.push("pl-10"),r}),d=i(()=>a.options?"select":a.type),w=i(()=>a.type==="textarea"?"h-full":"h-12"),v=B(),b=g(""),S=g(""),f=g("");if(x(()=>{b.value?o("setRef",b.value):S.value?o("setRef",S.value):o("setRef",f.value)}),a.ctrlKFocus){const r=t=>{t.ctrlKey&&t.key==="k"?(t.preventDefault(),f.value.focus()):t.key==="Escape"&&f.value.blur()};x(()=>{v.isFieldFocusRegistered||(window.addEventListener("keydown",r),v.isFieldFocusRegistered=!0)}),V(()=>{window.removeEventListener("keydown",r),v.isFieldFocusRegistered=!1})}return(r,t)=>(n(),u("div",A,[d.value==="select"?p((n(),u("select",{key:0,id:e.id,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),name:e.name,class:c(y.value)},[(n(!0),u($,null,q(e.options,l=>(n(),u("option",{key:l.id??l,value:l},h(l.label??l),9,j))),128))],10,N)),[[E,s.value]]):d.value==="textarea"?p((n(),u("textarea",{key:1,id:e.id,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value=l),class:c(y.value),name:e.name,placeholder:e.placeholder,required:e.required},null,10,H)),[[C,s.value]]):p((n(),u("input",{key:2,id:e.id,ref_key:"inputEl",ref:f,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value=l),name:e.name,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:d.value,class:c(y.value),"v-maska":e.masked,"data-maska":e.masked&&e.mask!==""?e.mask:null,onKeyup:t[3]||(t[3]=l=>e.intonly?e.modelValue=e.modelValue.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1").replace(/^0[^.]/,"0"):null)},null,42,I)),[[R,d.value!=="dadata"],[M,s.value]]),e.icon?(n(),F(z,{key:3,icon:e.icon,h:w.value},null,8,["icon","h"])):k("",!0)]))}},O={class:"mb-6 last:mb-0"},T=["for"],Q={__name:"FormField",props:{label:{type:String,default:null},labelFor:{type:String,default:null},help:{type:String,default:null},isValid:{type:Boolean,default:!0}},setup(e){const m=D(),a=i(()=>{const o=[],s=m.default().length;return s>1&&o.push("grid grid-cols-1 gap-3"),s===2&&o.push("md:grid-cols-2"),o});return(o,s)=>(n(),u("div",O,[e.label?(n(),u("label",{key:0,for:e.labelFor,class:"block font-bold mb-2"},h(e.label),9,T)):k("",!0),K("div",{class:c(a.value)},[L(o.$slots,"default")],2),e.help?(n(),u("div",{key:1,class:c({"text-xs text-gray-500 dark:text-slate-400 mt-1":!0,"text-red-500":!e.isValid})},h(e.help),3)):k("",!0)]))}};export{G as _,Q as a};
