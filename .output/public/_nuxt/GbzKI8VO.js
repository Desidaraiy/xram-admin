import{_ as k}from"./BY7VE8ZU.js";import{a as x,_ as B}from"./DTQ49aZk.js";import{_ as v}from"./byDhHAzm.js";import{f as T,i as $,z as b,c as s,b as o,w as l,_ as C,o as e,k as L,m as P,F as S,A as N,a as r,C as w,t as c,B as V,q as D}from"./DSqohS_p.js";import{_ as F}from"./C2qxqNzf.js";import"./DYukAyPS.js";import"./C3z8ikX4.js";const M={key:0,class:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6"},j={key:0,class:"text-xl text-gray-700 dark:text-gray-300 my-2"},q={class:"my-2"},z={key:1},A={class:"my-2"},E={class:"my-2"},I={key:2,class:"my-2"},O={key:1,class:"flex flex-col h-192 items-center justify-center"},U=r("h2",{class:"text-xl text-gray-700 dark:text-gray-300 my-2"},"Нет рассылок",-1),Z={__name:"planned",setup(G){const a=T();$(()=>{a.getPlannedPushmailingList()});const d=b(()=>a.pushmailing);function u(n){return n.split(" ")[0]}function p(n){return n.split(" ")[1]}const f=async n=>{const m=D+"remove-message";$fetch(m,{method:"POST",body:{token:a.userToken,id:n}}).then(i=>{i.message==="ok"?a.getPlannedPushmailingList():alert("Ошибка: ",i)})};return(n,m)=>{const i=k,_=x,h=v,g=B,y=C;return e(),s("div",null,[o(y,{name:"authenticated"},{default:l(()=>[o(F,null,{default:l(()=>[o(i,{icon:L(P),title:"Запланированные рассылки",back:!0,main:""},null,8,["icon"]),d.value.length>0?(e(),s("div",M,[(e(!0),s(S,null,N(d.value,t=>(e(),w(g,{key:t.id},{default:l(()=>[t.title?(e(),s("h2",j,"Заголовок: "+c(t.title),1)):V("",!0),r("p",q,"Сообщение: "+c(t.length<0?"Текст объявления пуст":t.message),1),t.date.split("-")[0]!="0000"?(e(),s("div",z,[r("p",A,"Дата: "+c(u(t.date)),1),r("p",E,"Время: "+c(p(t.date)),1)])):(e(),s("div",I," Без даты ")),o(h,null,{default:l(()=>[o(_,{label:"Удалить",color:"warning",small:"",outline:"",onClick:H=>f(t.id)},null,8,["onClick"]),o(_,{label:"Редактировать",color:"info",small:"",outline:"",to:`/pushmailing/edit/${t.id}`},null,8,["to"])]),_:2},1024)]),_:2},1024))),128))])):(e(),s("div",O,[U,o(_,{color:"info",label:"Создать рассылку",to:"/pushmailing/"})]))]),_:1})]),_:1})])}}};export{Z as default};
